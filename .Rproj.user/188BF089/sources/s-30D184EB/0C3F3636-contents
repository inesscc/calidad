library(shiny)

tab1_ui <- tagList(
  sidebarLayout(
    sidebarPanel(
      sliderInput("bins",
                  "Number of bins:",
                  min = 1,
                  max = 50,
                  value = 30),
      actionButton('reset', 'RESET'),
      actionButton("update","UPDATE"),
    ),
    mainPanel(
      plotOutput("distPlot")
    ) )
)

ui <- navbarPage(
  title = "Old Faithful Geyser Data",
  tabPanel('Tab 1',
           uiOutput('tab_1_ui')),
  tabPanel('Tab 2',
           selectInput('iris_nms', 'Select Column', names(iris)))
)

server <- function(input, output,session) {
  
  #show the ui at the start of the app.
  output$tab_1_ui <- renderUI({
    tab1_ui
  })
  
  # When reset button is pressed, reset the slider value and send a 'push update' signal
  observeEvent(input$reset,{
    output$tab_1_ui <- renderUI({
      tab1_ui
    })
  })
  
  # When update button is pressed, send a 'push update' signal
  observe({
    input$update
    input$reset
    output$distPlot <- renderPlot({
      x    <- faithful[, 2]
      bins <- seq(min(x), max(x), length.out = isolate(input$bins[1]))
      hist(x, breaks = bins, col = 'darkgray', border = 'white')
    })
    
  })
  
  
}

shinyApp(ui = ui, server = server)
